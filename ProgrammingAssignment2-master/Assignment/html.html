<!DOCTYPE html>
<html>
<head>
	<title> This is a page </title>
	<!--- Vue script -->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script src="src/Controller.js"></script>
	<script src="src/numberArray.js"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>

<body>

<div id="app">
	<div class="jumbotron jumbotron-fluid">
		<div class="container">
			<h1 class="display-4">Correlation calculator</h1>
			<p class="lead"> {{message}} </p>
		</div>
  </div>
	<div class="col-lg-6 col-sm-6 col-12">
    <label class="btn btn-block btn-primary">
        Browse&hellip; <input type="file" @change="onFileChange" style="display: none;">
    </label>
  </div>

	<table id="dataTable">
	</table>


		<br />
		<button v-if="showButton" v-on:click="calculate">Calculate me</button>
		<br />
		<p> Correlation: {{correlation}} </p>
		<p> B0: {{b0}} </p>
		<p> B1: {{b1}} </p>
</div>

<script src="src/loader.js"></script>

<script>

function calculate(Xvalues, Yvalues) {

	var theNumberArray = Controller.setup()

	if (Xvalues.length != Yvalues.length) {
		console.log("Array length error!")
	} else {
		for (var i = 0; i < Xvalues.length; i++) {
			theNumberArray.addValues(Xvalues[i], Yvalues[i])
		}
	}

	return ([theNumberArray.calculateCorrelation(), theNumberArray.calculateB0(), theNumberArray.calculateB1()])
}

</script>

</body>
</html>
